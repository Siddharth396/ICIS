---
apiVersion: secrets.hashicorp.com/v1beta1
kind: VaultAuth
metadata:
  name: order-snowflake-producer-gold-uat-secret-auth
  namespace: order-uat
spec:
  method: kubernetes
  mount: cha/eks-b
  kubernetes:
    role: kv-order-read
    serviceAccount: order
 
---
apiVersion: secrets.hashicorp.com/v1beta1
kind: VaultStaticSecret
metadata:
  name: order-snowflake-producer-gold-uat-secret-vault
  namespace: order-uat
spec:
  vaultAuthRef: order-snowflake-producer-gold-uat-secret-auth
  type: kv-v2
  mount: kv/cha/k8s
  path: order/snowflake-producer/gold/uat
 
 
  destination:
    name: order-snowflake-producer-gold-uat-secret
    create: true
  refreshAfter: 8h  