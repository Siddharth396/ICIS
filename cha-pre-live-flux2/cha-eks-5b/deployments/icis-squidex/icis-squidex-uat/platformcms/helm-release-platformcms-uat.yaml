apiVersion: helm.toolkit.fluxcd.io/v2beta1
kind: HelmRelease
metadata:
  name: icis-squidex-uat
  namespace: icis-squidex-uat
spec:
  releaseName: platformcms-uat
  values:
    projectName: "platformcms"
    squidex:
      image:
        repository: artifacts.cha.rbxd.ds/automated/icis-squidex # {"$imagepolicy": "flux-system:icis-squidex-uat:name"}
        tag: uat-211-7.7.35 # {"$imagepolicy": "flux-system:icis-squidex-uat:tag"}
      kafka:
        enabled: True
      customEnvValues:
        ADMIN__ADMINAPPS__0: platformcms
        ADMIN__ADMINUSERGROUP__0: ICIS_Genesis
        UI__REFERENCESDROPDOWNITEMCOUNT: "'200'"
        CONTENTS__MAXRESULTS: "'200'"
        PLUGINS__2: ICIS.PlatformCMS.dll
      envValues:
        IDENTITY__ICISAUTHSERVER: "https://domainidentity.integration.cha.rbxd.ds"
        IDENTITY__ICISOIDCSCOPES: ""
    squidexCli:
      enabled: True
      schedule: "'*/5 * * * *'"
    vault_squidex_secrets:
      name: platformcms-squidex-uat-secret
    vault_kafka_secrets:
      name: platformcms-squidex-kafka-uat-secret
      VaultSecretPath: "icis-squidex/platformcms/uat"
