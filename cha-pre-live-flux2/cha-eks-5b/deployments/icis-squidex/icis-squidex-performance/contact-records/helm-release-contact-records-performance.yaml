apiVersion: helm.toolkit.fluxcd.io/v2beta1
kind: HelmRelease
metadata:
  name: icis-squidex-performance
  namespace: icis-squidex-performance
spec:
  releaseName: contact-records-performance
  values:
    projectName: "contact-records"
    squidex:
      image:
        repository: artifacts.cha.rbxd.ds/automated/icis-squidex # {"$imagepolicy": "flux-system:icis-squidex-performance-darwin-price-tool:name"}
        tag: performance-darwin-price-tool-10-6.7.45 # {"$imagepolicy": "flux-system:icis-squidex-performance-darwin-price-tool:tag"}
      customEnvValues:
        ADMIN__ADMINAPPS__0: contact-records
        ADMIN__ADMINUSERGROUP__0: ICIS_Darwin
        ASSETS__MAXSIZE: "'10485760'"
        CONTENTS__MAXRESULTS: "'6000'"
        CONTENTS__DEFAULTPAGESIZE: "'6000'"
        UI__REFERENCESDROPDOWNITEMCOUNT: "'6000'"
      resources:
        limits:
          cpu: "1"
          memory: 2048Mi
        requests:
          cpu: 500m
          memory: 1024Mi
    squidexCli:
      enabled: True
      schedule: "'10 7,10,13,16 * * *'"
    vault_squidex_secrets:
      name: contact-records-squidex-performance-secret  
