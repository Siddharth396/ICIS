---
apiVersion: helm.toolkit.fluxcd.io/v2beta1
kind: HelmRelease
metadata:
  name: authoring-bff
spec:     
  values:
    replicaCount: 1
    projectName: "authoring-tblent"
    ServiceAccountName: "tblent"

    bff:
      readinessProbe:
        httpGet:
          path: /internal/health/readiness
          port: 80
        initialDelaySeconds: 60
        periodSeconds: 30
      livenessProbe:
        httpGet:
          path: /internal/health/liveness
          port: 80
        periodSeconds: 30
      resources:
        requests:
          memory: "128Mi"
          cpu: "100m"
        limits:
          memory: "512Mi"
          cpu: "500m"
      config_env:
        DEV_MODE: "true"
        KAFKA_BROKER_URLS: "pkc-l568n.eu-west-1.aws.confluent.cloud:9092"
        KAFKA_BROKER_SECURITY_PROTOCOL: 3
        KAFKA_BROKER_SASL_MECHANISM: 1
        KAFKA_SCHEMA_REGISTRY_URL: "https://psrc-4xrp1.eu-central-1.aws.confluent.cloud"